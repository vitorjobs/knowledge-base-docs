import{_ as s,o as i,c as e,ah as o}from"./chunks/framework.DanffKul.js";const u=JSON.parse('{"title":"Configuração de Instâncias EC2 com Terraform","description":"","frontmatter":{},"headers":[],"relativePath":"terraform/EC2/index.md","filePath":"terraform/EC2/index.md"}'),r={name:"terraform/EC2/index.md"};function n(t,a,c,l,p,d){return i(),e("div",null,[...a[0]||(a[0]=[o(`<h1 id="configuracao-de-instancias-ec2-com-terraform" tabindex="-1">Configuração de Instâncias EC2 com Terraform <a class="header-anchor" href="#configuracao-de-instancias-ec2-com-terraform" aria-label="Permalink to “Configuração de Instâncias EC2 com Terraform”">​</a></h1><p>Este guia irá orientá-lo na criação e configuração de instâncias EC2 na AWS utilizando o Terraform.</p><h2 id="pre-requisitos" tabindex="-1">Pré-requisitos <a class="header-anchor" href="#pre-requisitos" aria-label="Permalink to “Pré-requisitos”">​</a></h2><p>Antes de começar, certifique-se de que você tenha o seguinte:</p><ul><li>Uma conta ativa na AWS. <ul><li>Acesso ao AWS Management Console.</li><li>Credenciais de usuário com permissões para criar instâncias EC2.</li></ul></li><li>Terraform instalado em sua máquina local. (Consulte o guia de instalação do Terraform <a href="./../">aqui</a>).</li></ul><h2 id="passo-1-configurar-o-provedor-aws" tabindex="-1">Passo 1: Configurar o Provedor AWS <a class="header-anchor" href="#passo-1-configurar-o-provedor-aws" aria-label="Permalink to “Passo 1: Configurar o Provedor AWS”">​</a></h2><p>Crie um arquivo chamado <code>main.tf</code> e adicione a configuração do provedor AWS:</p><div class="language-hclprovider"><button title="Copy Code" class="copy"></button><span class="lang">hclprovider</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>  region = &quot;us-west-2&quot; # Substitua pela região desejada</span></span>
<span class="line"><span>}</span></span></code></pre></div><h2 id="passo-2-definir-a-instancia-ec2" tabindex="-1">Passo 2: Definir a Instância EC2 <a class="header-anchor" href="#passo-2-definir-a-instancia-ec2" aria-label="Permalink to “Passo 2: Definir a Instância EC2”">​</a></h2><p>Adicione a configuração da instância EC2 ao arquivo <code>main.tf</code>:</p><div class="language-hclresource"><button title="Copy Code" class="copy"></button><span class="lang">hclresource</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>  ami           = &quot;ami-0c55b159cbfafe1f0&quot; # Substitua pelo ID da AMI desejada</span></span>
<span class="line"><span>  instance_type = &quot;t2.micro &quot;  # Tipo de instância. Substitua conforme necessário.</span></span>
<span class="line"><span>  tags = {</span></span>
<span class="line"><span>    Name = &quot;ExampleInstance&quot;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h2 id="passo-3-inicializar-o-terraform" tabindex="-1">Passo 3: Inicializar o Terraform <a class="header-anchor" href="#passo-3-inicializar-o-terraform" aria-label="Permalink to “Passo 3: Inicializar o Terraform”">​</a></h2><p>No terminal, navegue até o diretório onde o arquivo <code>main.tf</code> está localizado e execute o comando:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terraform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span></code></pre></div><p>Isso inicializará o diretório do Terraform e baixará os plugins necessários.</p><h2 id="passo-4-planejar-a-infraestrutura" tabindex="-1">Passo 4: Planejar a Infraestrutura <a class="header-anchor" href="#passo-4-planejar-a-infraestrutura" aria-label="Permalink to “Passo 4: Planejar a Infraestrutura”">​</a></h2><p>Execute o comando a seguir para visualizar o plano de execução:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terraform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plan</span></span></code></pre></div><p>Revise a saída para garantir que a configuração está correta.</p><h2 id="passo-5-aplicar-a-configuracao" tabindex="-1">Passo 5: Aplicar a Configuração <a class="header-anchor" href="#passo-5-aplicar-a-configuracao" aria-label="Permalink to “Passo 5: Aplicar a Configuração”">​</a></h2><p>Para criar a instância EC2, execute o comando:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terraform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apply</span></span></code></pre></div><p>Digite <code>yes</code> quando solicitado para confirmar a aplicação das mudanças.</p><h2 id="passo-6-verificar-a-instancia" tabindex="-1">Passo 6: Verificar a Instância <a class="header-anchor" href="#passo-6-verificar-a-instancia" aria-label="Permalink to “Passo 6: Verificar a Instância”">​</a></h2><p>Após a aplicação bem-sucedida, você pode verificar a criação da instância EC2 no AWS Management Console.</p><h2 id="passo-7-limpar-os-recursos" tabindex="-1">Passo 7: Limpar os Recursos <a class="header-anchor" href="#passo-7-limpar-os-recursos" aria-label="Permalink to “Passo 7: Limpar os Recursos”">​</a></h2><p>Para remover a instância EC2 criada, execute o comando:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terraform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> destroy</span></span></code></pre></div><p>Digite <code>yes</code> quando solicitado para confirmar a destruição dos recursos.</p><h2 id="configuracao-completa-do-arquivo-main-tf" tabindex="-1">configuração completa do arquivo main.tf <a class="header-anchor" href="#configuracao-completa-do-arquivo-main-tf" aria-label="Permalink to “configuração completa do arquivo main.tf”">​</a></h2><p>Aqui está a configuração completa do arquivo <code>main.tf</code> para referência:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"></span></code></pre></div><p>terraform { required_providers { aws = { source = &quot;hashicorp/aws&quot; version = &quot;~&gt; 5.0&quot; } } }</p><h1 id="configure-the-aws-provider" tabindex="-1">Configure the AWS Provider <a class="header-anchor" href="#configure-the-aws-provider" aria-label="Permalink to “Configure the AWS Provider”">​</a></h1><p>provider &quot;aws&quot; { region = &quot;us-east-1&quot; profile = &quot;PROFILE&quot; }</p><p>resource &quot;aws_instance&quot; &quot;bia-dev&quot; { ami = &quot;ami-02f3f602d23f1659d&quot; instance_type = &quot;t3.micro&quot; tags = { Name = &quot;bia-terraform&quot; } vpc_security_group_ids = [ &quot;SECURITY_GROUP&quot; ] user_data = file(&quot;userdata.sh&quot;) iam_instance_profile = &quot;ROLE&quot; }</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>## Conclusão</span></span>
<span class="line"><span>Você configurou com sucesso uma instância EC2 na AWS usando o Terraform. Agora você pode expandir essa configuração adicionando mais recursos conforme necessário. Consulte a documentação oficial do Terraform e da AWS para mais informações e práticas recomendadas.</span></span>
<span class="line"><span>## Referências</span></span>
<span class="line"><span>- [Documentação do Terraform para AWS](https://registry.terraform.io/providers/hashicorp/aws/latest/docs)</span></span>
<span class="line"><span>- [Documentação da AWS sobre Instâncias EC2](https://docs.aws.amazon.com/ec2/index.html)</span></span>
<span class="line"><span>- [Guia de Instalação do Terraform](../index.md)</span></span>
<span class="line"><span>- [Guia de Configuração da AWS CLI](../../aws/index.md)</span></span>
<span class="line"><span>- [Documentação Oficial do Terraform](https://www.terraform.io/docs)</span></span></code></pre></div>`,37)])])}const f=s(r,[["render",n]]);export{u as __pageData,f as default};
